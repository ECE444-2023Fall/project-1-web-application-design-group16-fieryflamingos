{% import "bootstrap/wtf.html" as wtf %}
{% extends 'base.html' %}
{% block content %}
<!DOCTYPE html>
<html>

<head>
	<title>Discover</title>
	<link rel="stylesheet" type="text/css"
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
</head>

<body>
	{% for message in get_flashed_messages() %}
	<div class="flash alert alert-success col-sm-4" role="success">
		{{ message }}
	</div>
	{% endfor %}

	<div style="margin-left: 10%; margin-right: 10%;">
		<div class="title" style="margin-bottom: 40px;">
			Search
		</div>

		{% if error %}
		<p class="alert alert-danger col-sm-4" role="danger">
			<strong>Error:</strong> {{ error }}
		</p>
		{% endif %}

		{{ wtf.quick_form(form) }}
	</div>


	<div style="background-color: #F1F5F9; padding-bottom: 60px;">
		<div style="margin-left: 10%; margin-right: 10%;">
			<div class="main-title" style="margin-bottom: 40px; padding-top: 40px;">
				Filtered Events
			</div>
			{% for event in events %}
				<a href="{{event.link}}" style="text-decoration: none;">
					<div class="white-card-container" style="flex: 60%;">
						<div class="title" style="margin-bottom: 16px;" >
							{{event.title}}
						</div>
						<hr style="margin-bottom: 20px; width: auto;">
						<div style="display: flex; margin-bottom: 8px;">
							<div style="display: flex; width: 50%;">
								<span class="label-bold" style="margin-right: 6px;">
									Organizer: 
								</span>
								<div class="label">
									{{event.organizer.name}}
								</div>
							</div>
							<div style="display: flex; width: 50%;">
								<span class="label-bold" style="margin-right: 6px;">
									Time: 
								</span>
								<div class="label">
									{{event.event_date.from_date}} - {{event.event_date.to_date}}
								</div>
							</div>
						</div>
						<div style="display: flex; margin-bottom: 16px;">
							<div style="display: flex; width: 50%;">
								<span class="label-bold" style="margin-right: 6px;">
									Location: 
								</span>
								<div class="label">
									{{event.location.address}}, {{event.location.room}}
								</div>
							</div>
						</div>
						<div>
							<div>
								{{event.description}}
							</div>
						</div>				
					</div>
				</a>			
			{% endfor %}
		</div>
	</div>

	<div>
		
	</div>
</body>

</html>
{% endblock %}